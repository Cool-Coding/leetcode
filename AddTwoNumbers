public class AddTwoNumbers{
public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
       return add(l1,l2,0);
    }

   public ListNode add(ListNode l1,ListNode l2,int spill){
        if(l1!=null && l2!=null) {
            //加法运算
            int val = l1.val + l2.val + spill;
            if (val > 9) {
                spill = 1;
                val = val - 10;
            }else{
                spill=0;
            }
            //创建节点
            ListNode node = new ListNode(val);
            //递归创建下一个节点
            node.next = add(l1.next, l2.next, spill);
            return node;
        }else if(l1!=null){
            return processSingleListNode(l1,spill);
        }else{
            return processSingleListNode(l2,spill);
        }
    }
    
     public ListNode processSingleListNode(ListNode node,int spill){
        if(node!=null) {
            int val = node.val + spill;
            if (val > 9) {
                val = val - 10;
                spill = 1;
            }else{
                spill=0;
            }
            //创建节点
            ListNode newNode = new ListNode(val);
            newNode.next = processSingleListNode(node.next, spill);
            return newNode;
        }else if(spill==1){
            return  new ListNode(1);
        }else{
            return null;
        }
    }  
}
